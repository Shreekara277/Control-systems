\begin{enumerate}[label=\thesection.\arabic*.,ref=\thesection.\theenumi]
\numberwithin{equation}{enumi}

\item Fig. \label{fig:ee18btech11019_hart} shows a Hartley oscillator.

\begin{figure}[ht]
    \begin{center}
	    \resizebox{\columnwidth}{!}{\input{./figs/hart.tex}}
	\end{center}
\caption{Hartley oscillator}
\label{fig:ee18btech11019_hart}
\end{figure}
\item Draw the equivalent block diagram of an oscillator.\\
\solution
\begin{figure}[!ht]
    \begin{center}
		
		\resizebox{\columnwidth}{!}{\input{./figs/osc.tex}} %block diagram
	\end{center}
\caption{block diagram for oscillator}
\label{fig:ee18btech11019_hart_block}
\end{figure}
Fig. \label{fig:ee18btech11019_hart_block} shows the block diagram of the an Oscillator in Fig. \ref{fig:ee18btech11019_hart_block}.\\




\item Show that the gain of the oscillator is \\
\begin{align}
    Gain  = \frac{V_{out}}{V_{in}} = \frac{G}{1 - GH}
\label{eq:ee18btech11019_gain}
\end{align}
%
\\
\solution From figure \ref{fig:ee18btech11019_hart_block}
Oscillators gain can be given as follows:\\
\begin{align}
    G(V_{in} + HV_{out}) =V_{out}\\
    G(V_{in} = (1-GH)V_{out}\\
    \frac{V_{out}}{V_{in}} = \frac{G}{1 - GH}
\end{align}
%
resulting in \eqref{eq:ee18btech11019_gain}.\\



\item State the condition for sustained oscillations. Justify.

\solution Condition for sustained oscillation is given by\\
\begin{align}
    GH = 1
\end{align}
Along with, total phase gain o the circuit should be 0 or 2$\pi$\\
\textbf{Justification:} as, when $ GH =1 $, gain becomes infinity, and theoretically we can get output, without actually providing input\\
Total phase gain should be so, as we want our signal to be in phase after every loop traversal.\\


\item Find $G$ and $H$.

\solution Consider the below circuit fig \ref{fig:ee18btech11019_block2},its basic form of a LC oscillator.\\
\begin{figure}[!ht]
    \begin{center}
		\resizebox{\columnwidth}{!}{\input{./figs/blc.tex}}
		
	\end{center}
\caption{Basic Circuit representation of LC circuit}
\label{fig:ee18btech11019_block2}
\end{figure}
The above figure \ref{fig:ee18btech11019_block2} can also be drawn as fig. \ref{fig:ee18btech11019_block3},when feedback is considered as load :\\
\begin{figure}[!ht]
    \begin{center}
		\resizebox{\columnwidth}{!}{\input{./figs/lc.tex}}
		
	\end{center}
\caption{Amplifier written in equivalent circuit form}
\label{fig:ee18btech11019_block3}
\end{figure}

We know that feedback gain is H, i.e, $\frac{V_0}{V_f} = H$\\
\newline
Fig. \ref{fig:ee18btech11019_block3} is equivalent amplifier circuit representation of figure above. \ref{fig:ee18btech11019_block2}\\
\newline
Applying voltage divider rule we get\\
From figure \ref{fig:ee18btech11019_block2}
\begin{align}
    H = \frac{Z_1}{Z_1 + Z_3}
\end{align}
From fig. \eqref{fig:ee18btech11019_block3}
\begin{align}
    G = \frac{V_o}{V_{in}} = \frac{A_vZ_L}{R_o + Z_L}\\
\end{align}    
    where,\\
    $R_o$ is the equivalent resistance in amplifier
    $A_v$ is the amplification factor of the opamp\\
    $v_{in}$ is the internal voltage in amplifier\\
    $Z_L$ is equivalent load across output
         
\begin{align}    
    Z_L = \frac{(Z_1 + Z_3)Z_2}{Z_1+Z_2+Z_3}
\end{align}


\item Find the frequency of oscillation using the condition that $AB = 1$.

\solution For any LC oscillator, 
Now,we know that $GH = 1$ for sustained oscillations, putting the the above terms in the equation\\
on solving,\\
    
\textbf{Hartley oscillator}:\\
The Hartley oscillator is one of the classical LC feedback circuits,i.e feedback is made of LC components.Below here 
\begin{align}
    Z_1 = SL_1 (inductor)\\
    Z_2 = SL_2 (inductor)\\
    Z_3 = \frac{1}{SC} (capacitor)
\end{align}
$\therefore$ H(s) can be given by,\\
\begin{align}
    H(s) = \frac{SL_1}{SL_2 + \frac{1}{SC}}\\
        = \frac{S^2L_1C}{S^2L_2C + 1}
\end{align}
\begin{align}
    G(s) = \frac{A_v(SL_1 + \frac{1}{SC})Sl_2}{R_o(SL_1 + SL_2 + \frac{1}{SC} + S^2L_1L_2 \frac{L_2}{C}}\\
        =\frac{A_v(S^2L_1C + 1)SL_2}{R_o(S^2(L_1 + L_2)C +1) + S^3L_1L_2C + SL_2}
\end{align}
putting that in and equating $GH=1$ we get,

\begin{align}
1 = \frac{S^{2}L_1L_2A_v}{(SL_1+SL_2+\frac{1}{SC})R_o+ SL_2(SL_1+\frac{1}{SC})}\\
S^{2}L_1L_2A_v = (SL_1+SL_2+\frac{1}{SC})R_o+ SL_2(SL_1+\frac{1}{SC})
\end{align}

As we need, to find frequency, put S =jw
\begin{align}
    \omega^{2}L_1L_2A_v = j(\omega L_1 + \omega L_2 -\frac{1}{\omega C})R_o -\omega L_2(\omega L_1 + \frac{1}{\omega C})
\end{align}
To satisfy the above equation, equating imaginary term to Zero.
\begin{align}    
    \omega L_1 + \omega L_2  = \frac{1}{\omega C}\\
    \omega = \frac{1}{\sqrt{(L_1+L_2)(C)}}\\
    f = \frac{1}{2\pi \sqrt{(L_1+L_2)(C)}}
\end{align}
\begin{align}
    H = \frac{Z_1}{Z_1 + Z_3} = \frac{Z_1}{Z_2}\\
      = \frac{L_1}{L_2}
    \label{eq:ee18btech11019_B_gain}  
\end{align}
\begin{align}
    G =  \frac{L_2}{L_1} 
\label{eq:ee18btech11019_Amp_gain}
\end{align}
 
\item For Hartley oscillator frequency generated can be given as 
\begin{align}
    f = \frac{1}{2\pi\sqrt{(L_1 + L_2)C}}
    \label{eq:ee18btech11019_frequency}
\end{align}

We know that for an opamp gain is given by:
\begin{align}
    G = \frac{R_2}{R_1}
\end{align}
Here,
\begin{align}
    G(S) = \frac{R_2}{R_1} = \frac{L_2}{L_1}
\end{align}
referring to \ref{eq:ee18btech11019_Amp_gain}\\
And,
\begin{align}
    H(s) = \frac{V_o}{V_f} = \frac{L_1}{L_2}
\end{align}
referring to \ref{eq:ee18btech11019_B_gain}\\
\newline
\item \textbf{Simulation:}\\
Taking the following values,and applying in \ref{eq:ee18btech11019_frequency} \\



\begin{tabular}{|c|c|}
\hline
Component & Value  \\
\hline
$R_1$         & 10K$\Omega$   \\
\hline
$R_2$         & 100K$\Omega$   \\
\hline
$R_3$         & $\sim$  \\
\hline
$L_1$         & $1 \mu H$     \\
\hline
$L_2$         & $1 \mu H$   \\
\hline
C         & 120 pF \\
\hline
\end{tabular}


We get f = 103 MHz\\
Feedback factor for Hartley given by:
\begin{align}
B =\frac{L_1}{L_2}= 1
\end{align}
W.K.T, $AB = 1$\\
$\therefore$ Minimum amplification Gain,A = 1\\
\end{enumerate}
